import{u as oe,r as h,D as J,f as pe,j as e,C as X,P as q,h as fe,i as ge}from"./index-Bd778Qe4.js";import{c as f,a as A,b as T}from"./index.esm-DxxmU9r2.js";import{b as ve,c as ie,n as de,o as ye,p as Se,q as _e,r as Ce,s as he,t as be,v as ee,w as se,x as Ne,y as we,z as Fe,A as re,C as D,a as Te,h as Ee,B as Re,D as ke,E as Ae,F as H,G as De,H as Le,I as Me}from"./DefaultLayout-m3DlwxqB.js";import{b as _,c,a as U}from"./CRow-5hfcp1sd.js";import{c as L,d as M,b as I,a as Ie,e as ce}from"./cil-user-xxyo0guq.js";import{C as te}from"./CCardHeader-LaoSSsrI.js";import{c as me,a as Pe}from"./cil-save-CuPF9_Mc.js";import{C as G}from"./CInputGroup-DKqn44tN.js";import{C as ae}from"./CInputGroupText-s3Zpc6wr.js";import{C as ne,a as Y,b as K,c as N,d as u,e as Q,f as j}from"./CTable-D8RY3rq0.js";import{c as Oe}from"./cil-options-sHCm5Gxk.js";var Be=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M19.409,431.289v41.468a24.124,24.124,0,0,0,24.1,24.1H76.877A149.445,149.445,0,0,0,183.25,452.792L383.966,252.075l55.846,56.069,22.671-22.582-55.889-56.114,1.287-1.288-.021-.02,63.287-63.287a84.853,84.853,0,0,0,0-120l-4-4a84.852,84.852,0,0,0-120,0l-64.326,64.326L230.947,53.1,208.275,75.68,260.387,128,63.471,324.916A149.449,149.449,0,0,0,19.409,431.289ZM369.774,63.48a52.854,52.854,0,0,1,74.747,0l4,4a52.913,52.913,0,0,1,0,74.745L387.147,203.6,308.4,124.853Zm-85.72,86.107,78.573,78.573-69.176,69.176v-.483H136.788ZM104.788,328.853H261.935L160.623,430.165a117.662,117.662,0,0,1-83.746,34.688H51.409V431.289A117.664,117.664,0,0,1,86.1,347.543Z' class='ci-primary'/>"],xe=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M449.366,89.648l-.685-.428L362.088,46.559,268.625,171.176l43,57.337a88.529,88.529,0,0,1-83.115,83.114l-57.336-43L46.558,362.088l42.306,85.869.356.725.429.684a25.085,25.085,0,0,0,21.393,11.857h22.344A327.836,327.836,0,0,0,461.222,133.386V111.041A25.084,25.084,0,0,0,449.366,89.648Zm-20.144,43.738c0,163.125-132.712,295.837-295.836,295.837h-18.08L87,371.76l84.18-63.135,46.867,35.149h5.333a120.535,120.535,0,0,0,120.4-120.4v-5.333l-35.149-46.866L371.759,87l57.463,28.311Z' class='ci-primary'/>"];const je=({staff:n=null,onClose:y,onSuccess:$})=>{const{business:t}=oe(),[m,C]=h.useState(!1),[P,x]=h.useState(""),[E,O]=h.useState([]),[R,b]=h.useState(!0),[l,p]=h.useState({first_name:"",last_name:"",email:"",phone:"",role:pe.junior_employee,commission_rate:10,is_available_for_booking:!0,working_hours:J,service_ids:[]}),[g,k]=h.useState(J);h.useEffect(()=>{V()},[t==null?void 0:t.id]),h.useEffect(()=>{if(n){const r=n.employee_services?n.employee_services.map(i=>i.service_id):[];p({first_name:n.first_name||"",last_name:n.last_name||"",email:n.email||"",phone:n.phone||"",role:n.role||"junior_employee",commission_rate:n.commission_rate||10,is_available_for_booking:n.is_available_for_booking!==!1,working_hours:n.working_hours||J,service_ids:r}),k(n.working_hours||J)}},[n]);const V=async()=>{if(t!=null&&t.id){b(!0);try{const{data:r,error:i}=await ve(t.id);i?console.error("Error loading services:",i):O(r||[])}catch(r){console.error("Error loading services:",r)}finally{b(!1)}}},S=(r,i)=>{p(s=>({...s,[r]:i}))},W=r=>{p(i=>{const s=i.service_ids.includes(r)?i.service_ids.filter(d=>d!==r):[...i.service_ids,r];return{...i,service_ids:s}})},w=(r,i,s)=>{const d={...g,[r]:{...g[r],[i]:s}};k(d),p(v=>({...v,working_hours:d}))},F=()=>l.first_name.trim()?l.last_name.trim()?l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)?l.commission_rate<0||l.commission_rate>100?(x("Commission rate must be between 0 and 100"),!1):!0:(x("Please enter a valid email address"),!1):(x("Email is required"),!1):(x("Last name is required"),!1):(x("First name is required"),!1),B=async r=>{if(r.preventDefault(),x(""),!!F()){C(!0);try{const i={...l,business_id:t.id,working_hours:g};let s;n?s=await de(n.id,i):s=await ye(i),s.error?x(s.error):$(s.data)}catch(i){x(i.message||"An error occurred")}finally{C(!1)}}},a={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},o=[{value:"manager",label:"Manager"},{value:"reception",label:"Reception"},{value:"senior_employee",label:"Senior Employee"},{value:"junior_employee",label:"Junior Employee"}];return e.jsx(_,{children:e.jsx(c,{xs:12,children:e.jsxs(L,{className:"mb-4",children:[e.jsx(te,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h4",{className:"mb-0",children:n?"Edit Staff Member":"Add New Staff Member"}),e.jsxs(U,{color:"light",onClick:y,disabled:m,children:[e.jsx(f,{icon:me,className:"me-2"}),"Back"]})]})}),e.jsxs(M,{children:[P&&e.jsx(I,{color:"danger",dismissible:!0,onClose:()=>x(""),children:P}),e.jsxs(Ie,{onSubmit:B,children:[e.jsxs(_,{children:[e.jsx(c,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(A,{htmlFor:"first_name",children:"First Name *"}),e.jsxs(G,{children:[e.jsx(ae,{children:e.jsx(f,{icon:ce})}),e.jsx(T,{type:"text",id:"first_name",placeholder:"Enter first name",value:l.first_name,onChange:r=>S("first_name",r.target.value),required:!0,disabled:m})]})]})}),e.jsx(c,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(A,{htmlFor:"last_name",children:"Last Name *"}),e.jsxs(G,{children:[e.jsx(ae,{children:e.jsx(f,{icon:ce})}),e.jsx(T,{type:"text",id:"last_name",placeholder:"Enter last name",value:l.last_name,onChange:r=>S("last_name",r.target.value),required:!0,disabled:m})]})]})})]}),e.jsxs(_,{children:[e.jsx(c,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(A,{htmlFor:"email",children:"Email *"}),e.jsx(T,{type:"email",id:"email",placeholder:"Enter email address",value:l.email,onChange:r=>S("email",r.target.value),required:!0,disabled:m||n}),n&&e.jsx("small",{className:"text-muted",children:"Email cannot be changed after creation"})]})}),e.jsx(c,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(A,{htmlFor:"phone",children:"Phone"}),e.jsxs(G,{children:[e.jsx(ae,{children:e.jsx(f,{icon:xe})}),e.jsx(T,{type:"tel",id:"phone",placeholder:"Enter phone number",value:l.phone,onChange:r=>S("phone",r.target.value),disabled:m})]})]})})]}),e.jsxs(_,{children:[e.jsx(c,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(A,{htmlFor:"role",children:"Role *"}),e.jsx(ie,{id:"role",value:l.role,onChange:r=>S("role",r.target.value),required:!0,disabled:m,children:o.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))})]})}),e.jsx(c,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(A,{htmlFor:"commission_rate",children:"Commission Rate (%)"}),e.jsx(T,{type:"number",id:"commission_rate",min:"0",max:"100",step:"0.1",value:l.commission_rate,onChange:r=>S("commission_rate",parseFloat(r.target.value)||0),disabled:m})]})})]}),e.jsx(_,{className:"mb-4",children:e.jsx(c,{xs:12,children:e.jsx(ne,{id:"is_available_for_booking",checked:l.is_available_for_booking,onChange:r=>S("is_available_for_booking",r.target.checked),label:"Available for online booking",disabled:m})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{children:"Assigned Services"}),R?e.jsx("div",{className:"text-center py-4",children:e.jsx(X,{})}):E.length===0?e.jsx(I,{color:"info",children:"No services available. Please add services first."}):e.jsx("div",{className:"border rounded p-3",children:E.map(r=>e.jsx(ne,{id:`service-${r.id}`,checked:l.service_ids.includes(r.id),onChange:()=>W(r.id),label:`${r.name} - ${r.duration_minutes} min - ${r.price} PLN`,disabled:m,className:"mb-2"},r.id))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{children:"Working Hours"}),Object.entries(a).map(([r,i])=>{var s,d,v,Z,le;return e.jsxs(_,{className:"mb-2 align-items-center",children:[e.jsx(c,{md:2,children:e.jsx(A,{className:"mb-0",children:i})}),e.jsx(c,{md:2,children:e.jsx(ne,{checked:((s=g[r])==null?void 0:s.available)!==!1,onChange:z=>w(r,"available",z.target.checked),label:"Available",disabled:m})}),e.jsx(c,{md:3,children:e.jsx(T,{type:"time",value:((d=g[r])==null?void 0:d.start)||"09:00",onChange:z=>w(r,"start",z.target.value),disabled:m||!((v=g[r])!=null&&v.available)})}),e.jsx(c,{md:3,children:e.jsx(T,{type:"time",value:((Z=g[r])==null?void 0:Z.end)||"17:00",onChange:z=>w(r,"end",z.target.value),disabled:m||!((le=g[r])!=null&&le.available)})})]},r)})]}),e.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[e.jsx(U,{type:"button",color:"secondary",onClick:y,disabled:m,children:"Cancel"}),e.jsx(U,{type:"submit",color:"primary",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(X,{size:"sm",className:"me-2"}),n?"Updating...":"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{icon:Pe,className:"me-2"}),n?"Update Staff Member":"Create Staff Member"]})})]})]})]})]})})})};je.propTypes={staff:q.object,onClose:q.func.isRequired,onSuccess:q.func.isRequired};const ue=({staffId:n,onBack:y,onEdit:$})=>{const[t,m]=h.useState(null),[C,P]=h.useState([]),[x,E]=h.useState(null),[O,R]=h.useState(!0),[b,l]=h.useState(""),[p,g]=h.useState("details");h.useEffect(()=>{n&&k()},[n]),h.useEffect(()=>{p==="schedule"&&t?V():p==="performance"&&t&&S()},[p,t]);const k=async()=>{R(!0),l("");try{const{data:a,error:o}=await Se(n);o?l(o):m(a)}catch(a){l(a.message)}finally{R(!1)}},V=async()=>{const a=new Date,o=a.toISOString().split("T")[0],r=new Date(a.getTime()+336*60*60*1e3).toISOString().split("T")[0];try{const{data:i,error:s}=await _e(n,o,r);s?l(s):P(i||[])}catch(i){l(i.message)}},S=async()=>{const a=new Date,o=new Date(a.getTime()-720*60*60*1e3).toISOString().split("T")[0],r=a.toISOString().split("T")[0];try{const{data:i,error:s}=await Ce(n,o,r);s?l(s):E(i)}catch(i){l(i.message)}},W=a=>{const r={active:{color:"success",text:"Active"},invited:{color:"warning",text:"Invited"},inactive:{color:"secondary",text:"Inactive"},terminated:{color:"danger",text:"Terminated"}}[a]||{color:"secondary",text:a};return e.jsx(D,{color:r.color,children:r.text})},w=a=>{const r={owner:{color:"primary",text:"Owner"},manager:{color:"info",text:"Manager"},reception:{color:"success",text:"Reception"},senior_employee:{color:"warning",text:"Senior Employee"},junior_employee:{color:"secondary",text:"Junior Employee"}}[a]||{color:"secondary",text:a};return e.jsx(D,{color:r.color,children:r.text})},F=a=>new Date(`2000-01-01T${a}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),B=a=>new Date(a).toLocaleDateString();return O?e.jsx("div",{className:"text-center p-4",children:e.jsx(X,{})}):b?e.jsx(I,{color:"danger",children:b}):t?e.jsx(_,{children:e.jsx(c,{xs:12,children:e.jsxs(L,{className:"mb-4",children:[e.jsx(te,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h4",{className:"mb-0",children:"Staff Details"}),e.jsxs("div",{children:[e.jsxs(U,{color:"primary",size:"sm",className:"me-2",onClick:()=>$(t),children:[e.jsx(f,{icon:he,className:"me-2"}),"Edit"]}),e.jsxs(U,{color:"secondary",variant:"ghost",onClick:y,children:[e.jsx(f,{icon:me,className:"me-2"}),"Back"]})]})]})}),e.jsxs(M,{children:[e.jsxs(be,{variant:"tabs",className:"mb-3",children:[e.jsx(ee,{children:e.jsx(se,{active:p==="details",onClick:()=>g("details"),style:{cursor:"pointer"},children:"Details"})}),e.jsx(ee,{children:e.jsxs(se,{active:p==="schedule",onClick:()=>g("schedule"),style:{cursor:"pointer"},children:[e.jsx(f,{icon:Ne,className:"me-2"}),"Schedule"]})}),e.jsx(ee,{children:e.jsxs(se,{active:p==="performance",onClick:()=>g("performance"),style:{cursor:"pointer"},children:[e.jsx(f,{icon:we,className:"me-2"}),"Performance"]})})]}),e.jsxs(Fe,{children:[e.jsx(re,{visible:p==="details",children:e.jsxs(_,{children:[e.jsxs(c,{md:6,children:[e.jsx("h5",{children:"Personal Information"}),e.jsx("table",{className:"table table-borderless",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Name:"})}),e.jsxs("td",{children:[t.first_name," ",t.last_name]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Email:"})}),e.jsx("td",{children:t.email})]}),t.phone&&e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Phone:"})}),e.jsxs("td",{children:[e.jsx(f,{icon:xe,className:"me-2"}),t.phone]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Role:"})}),e.jsx("td",{children:w(t.role)})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Status:"})}),e.jsx("td",{children:W(t.status)})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Commission Rate:"})}),e.jsxs("td",{children:[t.commission_rate,"%"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Available for Booking:"})}),e.jsx("td",{children:e.jsx(D,{color:t.is_available_for_booking?"success":"secondary",children:t.is_available_for_booking?"Yes":"No"})})]}),t.joined_at&&e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Joined:"})}),e.jsx("td",{children:B(t.joined_at)})]})]})})]}),e.jsxs(c,{md:6,children:[e.jsx("h5",{children:"Working Hours"}),e.jsxs(Y,{small:!0,children:[e.jsx(K,{children:e.jsxs(N,{children:[e.jsx(u,{children:"Day"}),e.jsx(u,{children:"Hours"})]})}),e.jsx(Q,{children:t.working_hours&&Object.entries(t.working_hours).map(([a,o])=>e.jsxs(N,{children:[e.jsx(j,{className:"text-capitalize",children:a}),e.jsx(j,{children:o.available===!1?e.jsx(D,{color:"secondary",children:"Closed"}):`${F(o.start)} - ${F(o.end)}`})]},a))})]}),t.employee_services&&t.employee_services.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h5",{className:"mt-4",children:"Assigned Services"}),e.jsxs(Y,{small:!0,children:[e.jsx(K,{children:e.jsxs(N,{children:[e.jsx(u,{children:"Service"}),e.jsx(u,{children:"Price"}),e.jsx(u,{children:"Duration"})]})}),e.jsx(Q,{children:t.employee_services.map(a=>{var o,r,i;return e.jsxs(N,{children:[e.jsx(j,{children:(o=a.services)==null?void 0:o.name}),e.jsxs(j,{children:["PLN ",(r=a.services)==null?void 0:r.price]}),e.jsxs(j,{children:[(i=a.services)==null?void 0:i.duration_minutes," min"]})]},a.id)})})]})]})]})]})}),e.jsxs(re,{visible:p==="schedule",children:[e.jsx("h5",{children:"Upcoming Appointments (Next 14 Days)"}),C.length===0?e.jsx(I,{color:"info",children:"No upcoming appointments"}):e.jsxs(Y,{hover:!0,children:[e.jsx(K,{children:e.jsxs(N,{children:[e.jsx(u,{children:"Date"}),e.jsx(u,{children:"Time"}),e.jsx(u,{children:"Client"}),e.jsx(u,{children:"Service"}),e.jsx(u,{children:"Duration"}),e.jsx(u,{children:"Status"})]})}),e.jsx(Q,{children:C.map(a=>{var o,r,i;return e.jsxs(N,{children:[e.jsx(j,{children:B(a.appointment_date)}),e.jsx(j,{children:F(a.start_time)}),e.jsxs(j,{children:[(o=a.clients)==null?void 0:o.first_name," ",(r=a.clients)==null?void 0:r.last_name]}),e.jsx(j,{children:(i=a.services)==null?void 0:i.name}),e.jsxs(j,{children:[a.duration_minutes," min"]}),e.jsx(j,{children:e.jsx(D,{color:a.status==="completed"?"success":"primary",children:a.status})})]},a.id)})})]})]}),e.jsxs(re,{visible:p==="performance",children:[e.jsx("h5",{children:"Performance (Last 30 Days)"}),x?e.jsxs(_,{children:[e.jsx(c,{md:3,children:e.jsx(L,{className:"text-center",children:e.jsxs(M,{children:[e.jsx("h4",{className:"text-primary",children:x.totalAppointments}),e.jsx("p",{className:"text-muted mb-0",children:"Total Appointments"})]})})}),e.jsx(c,{md:3,children:e.jsx(L,{className:"text-center",children:e.jsxs(M,{children:[e.jsx("h4",{className:"text-success",children:x.completedAppointments}),e.jsx("p",{className:"text-muted mb-0",children:"Completed"})]})})}),e.jsx(c,{md:3,children:e.jsx(L,{className:"text-center",children:e.jsxs(M,{children:[e.jsxs("h4",{className:"text-info",children:[x.completionRate.toFixed(1),"%"]}),e.jsx("p",{className:"text-muted mb-0",children:"Completion Rate"})]})})}),e.jsx(c,{md:3,children:e.jsx(L,{className:"text-center",children:e.jsxs(M,{children:[e.jsxs("h4",{className:"text-warning",children:["PLN ",x.totalRevenue.toFixed(2)]}),e.jsx("p",{className:"text-muted mb-0",children:"Total Revenue"})]})})})]}):e.jsx(I,{color:"info",children:"Loading performance data..."})]})]})]})]})})}):e.jsx(I,{color:"warning",children:"Staff member not found"})};ue.propTypes={staffId:q.string.isRequired,onBack:q.func.isRequired,onEdit:q.func.isRequired};const Ke=()=>{const n=fe(),{business:y}=oe(),{staff:$,loading:t,error:m,filters:C}=ge(s=>s.staff),[P,x]=h.useState(!1),[E,O]=h.useState(null),[R,b]=h.useState(null),[l,p]=h.useState("");h.useEffect(()=>{y!=null&&y.id&&g()},[y==null?void 0:y.id,C]);const g=async()=>{console.log("[todo loadStaff()]"),n({type:"STAFF_LOADING"});try{const{data:s,error:d}=await Te(y.id,C);console.log("[todo loadStaff()] getStaff ",{data:s,error:d}),d?(console.log("[todo loadStaff] STAFF_ERROR"),n({type:"STAFF_ERROR",payload:d})):(console.log("[todo loadStaff] STAFF_SUCCESS"),n({type:"STAFF_SUCCESS",payload:s||[]}))}catch(s){n({type:"STAFF_ERROR",payload:s.message})}},k=(s,d)=>{n({type:"SET_STAFF_FILTERS",payload:{[s]:d}})},V=s=>{b(s)},S=s=>{O(s),x(!0)},W=async s=>{if(window.confirm("Are you sure you want to delete this staff member?"))try{const{error:d}=await Me(s);n(d?{type:"STAFF_ERROR",payload:d}:{type:"REMOVE_STAFF",payload:s})}catch(d){n({type:"STAFF_ERROR",payload:d.message})}},w=async(s,d)=>{try{const{data:v,error:Z}=await de(s,{status:d});n(Z?{type:"STAFF_ERROR",payload:Z}:{type:"UPDATE_STAFF",payload:v})}catch(v){n({type:"STAFF_ERROR",payload:v.message})}},F=()=>{x(!1),O(null)},B=()=>{b(null)},a=s=>{n(E?{type:"UPDATE_STAFF",payload:s}:{type:"ADD_STAFF",payload:s}),F()},o=s=>{const v={active:{color:"success",text:"Active"},invited:{color:"warning",text:"Invited"},inactive:{color:"secondary",text:"Inactive"},terminated:{color:"danger",text:"Terminated"}}[s]||{color:"secondary",text:s};return e.jsx(D,{color:v.color,children:v.text})},r=s=>{const v={owner:{color:"primary",text:"Owner"},manager:{color:"info",text:"Manager"},reception:{color:"success",text:"Reception"},senior_employee:{color:"warning",text:"Senior Employee"},junior_employee:{color:"secondary",text:"Junior Employee"}}[s]||{color:"secondary",text:s};return e.jsx(D,{color:v.color,children:v.text})},i=$.filter(s=>s.first_name.toLowerCase().includes(l.toLowerCase())||s.last_name.toLowerCase().includes(l.toLowerCase())||s.email.toLowerCase().includes(l.toLowerCase()));return R?e.jsx(ue,{staffId:R.id,onBack:B,onEdit:s=>{b(null),S(s)}}):P?e.jsx(je,{staff:E,onClose:F,onSuccess:a}):e.jsx(_,{children:e.jsx(c,{xs:12,children:e.jsxs(L,{className:"mb-4",children:[e.jsx(te,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h4",{className:"mb-0",children:"Staff Management"}),e.jsxs(U,{color:"primary",onClick:()=>x(!0),children:[e.jsx(f,{icon:Ee,className:"me-2"}),"Add Staff Member"]})]})}),e.jsxs(M,{children:[m&&e.jsx(I,{color:"danger",dismissible:!0,children:m}),e.jsxs(_,{className:"mb-3",children:[e.jsx(c,{md:4,children:e.jsx(G,{children:e.jsx(T,{placeholder:"Search staff...",value:l,onChange:s=>p(s.target.value)})})}),e.jsx(c,{md:3,children:e.jsxs(ie,{value:C.status,onChange:s=>k("status",s.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"invited",children:"Invited"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"terminated",children:"Terminated"})]})}),e.jsx(c,{md:3,children:e.jsxs(ie,{value:C.role,onChange:s=>k("role",s.target.value),children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"manager",children:"Manager"}),e.jsx("option",{value:"reception",children:"Reception"}),e.jsx("option",{value:"senior_employee",children:"Senior Employee"}),e.jsx("option",{value:"junior_employee",children:"Junior Employee"})]})})]}),t?e.jsx("div",{className:"text-center p-4",children:e.jsx(X,{})}):e.jsxs(Y,{hover:!0,responsive:!0,children:[e.jsx(K,{children:e.jsxs(N,{children:[e.jsx(u,{children:"Name"}),e.jsx(u,{children:"Email"}),e.jsx(u,{children:"Role"}),e.jsx(u,{children:"Status"}),e.jsx(u,{children:"Commission"}),e.jsx(u,{children:"Actions"})]})}),e.jsx(Q,{children:i.length===0?e.jsx(N,{children:e.jsx(j,{colSpan:"6",className:"text-center",children:"No staff members found"})}):i.map(s=>e.jsxs(N,{children:[e.jsx(j,{children:e.jsxs("strong",{children:[s.first_name," ",s.last_name]})}),e.jsx(j,{children:s.email}),e.jsx(j,{children:r(s.role)}),e.jsx(j,{children:o(s.status)}),e.jsxs(j,{children:[s.commission_rate,"%"]}),e.jsx(j,{children:e.jsxs(Re,{children:[e.jsx(ke,{size:"sm",color:"ghost",children:e.jsx(f,{icon:Oe})}),e.jsxs(Ae,{children:[e.jsxs(H,{onClick:()=>V(s),children:[e.jsx(f,{icon:Be,className:"me-2"}),"View Details"]}),e.jsxs(H,{onClick:()=>S(s),children:[e.jsx(f,{icon:he,className:"me-2"}),"Edit"]}),s.status==="invited"&&e.jsxs(H,{children:[e.jsx(f,{icon:De,className:"me-2"}),"Resend Invitation"]}),s.status==="active"&&e.jsx(H,{onClick:()=>w(s.id,"inactive"),children:"Deactivate"}),s.status==="inactive"&&e.jsx(H,{onClick:()=>w(s.id,"active"),children:"Activate"}),e.jsxs(H,{className:"text-danger",onClick:()=>W(s.id),children:[e.jsx(f,{icon:Le,className:"me-2"}),"Delete"]})]})]})})]},s.id))})]})]})]})})})};export{Ke as default};
